@model MVC.ReservaDeCine.Models.Cliente

@{
    ViewData["Title"] = "Datos del cliente";
}

<h1>Cliente</h1>

<div>
    <h4>Detalles</h4>
    <hr />
    <dl class="row">
        @if (User.IsInRole(nameof(Role.Administrador)))
        {
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Id)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Id)
            </dd>
        }
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Nombre)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Nombre)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Apellido)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Apellido)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Email)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FechaDeNacimiento)
        </dt>
        <dd class="col-sm-10">
            @Model.FechaDeNacimiento.ToString("dd/MM/yyyy")
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FechaDeAlta)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.FechaDeAlta)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FechaUltimoAcceso)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.FechaUltimoAcceso)
        </dd>
    </dl>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Reservas)
        </dt>
        <dd class="col-sm-10">
            <ul>
            @foreach (Reserva reserva in Model.Reservas)
            {
            <li>Película: @reserva.Funcion.Pelicula.Nombre, Fecha y hora: @reserva.Funcion.FechaHora, Cantidad de butacas: @reserva.CantButacas</li>
            }
            </ul>
        </dd>
    </dl>
</div>

<div>
    @if (User.IsInRole(nameof(Role.Administrador)))
    {
        <a asp-controller="Clientes" asp-action="Edit" asp-route-id="@Model.Id">Editar</a>
        <a asp-controller="Clientes" asp-action="Index"> | Volver a la lista</a>
    }
    else
    {
        <a asp-controller="Clientes" asp-action="EditMe" asp-route-id="@Model.Id">Editar mi Perfil</a>
    }

</div>
